<div class="todo-list-container">
    <h2>Ma Liste de Tâches</h2>
    <ul class="task-list">
      <li *ngFor="let task of tasks; let i = index" [ngClass]="{'completed': task.completed}">
        <div class="task-details">
          <span [ngClass]="{'completed-task': task.completed}">{{ task.description }}</span>
        </div>
        <div class="actions">
          <button class="delete-button" (click)="deleteTask(i)">Supprimer</button>
          <select class="status-select" [(ngModel)]="task.status" (change)="changeTaskStatus(i)">
            <option value="début">Début</option>
            <option value="en cours">En cours</option>
            <option value="fin">Fin</option>
          </select>
          <button class="rename-button" (click)="toggleRenaming(task)" *ngIf="!task.renaming">{{ task.renaming ? 'Valider' : 'Renommer' }}</button>
          <button class="rename-button" (click)="renameTask(task)" *ngIf="task.renaming">Valider</button>
        </div>
        <input class="rename-input" [(ngModel)]="task.newDescription" *ngIf="task.renaming" (keyup.enter)="renameTask(task)">
      </li>
    </ul>
    <div class="add-task">
      <input type="text" placeholder="Ajouter une nouvelle tâche" [(ngModel)]="newTask" (keyup.enter)="addTask()">
      <button (click)="addTask()">Ajouter</button>
    </div>
  </div>
  